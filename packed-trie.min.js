!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.TinyTrie=t():e.TinyTrie=t()}(window,function(){return function(e){var t={};function r(i){if(t[i])return t[i].exports;var n=t[i]={i:i,l:!1,exports:{}};return e[i].call(n.exports,n,n.exports,r),n.l=!0,n.exports}return r.m=e,r.c=t,r.d=function(e,t,i){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},r.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=4)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TERMINAL="\0",t.TERMINUS=Object.create(null),t.VERSION=0,t.HEADER_WIDTH_FIELD=10,t.VERSION_FIELD=10,t.OFFSET_SIGN_FIELD=1,t.OFFSET_VAL_FIELD=21,t.CHAR_WIDTH_FIELD=8,t.POINTER_WIDTH_FIELD=8},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BASE64_INT_TO_CHAR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),t.BASE64_CHAR_TO_INT=t.BASE64_INT_TO_CHAR.reduce(function(e,t,r){return e[t]=r,e},{})},,,function(e,t,r){"use strict";var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}();Object.defineProperty(t,"__esModule",{value:!0});var n=r(1),o=r(0);function a(e,t,r){for(var i=~~(t/6),o=t%6+r,a=Math.ceil(o/6),s=(1<<r)-1,u=0,f=0;f<a;f++)u<<=6,u|=n.BASE64_CHAR_TO_INT[e[i+f]];var c=o%6;return c&&(u>>=6-c),u&s}var s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.lastMask=1,this.pointerShift=1;var r=0,i=a(t,r,o.HEADER_WIDTH_FIELD);r+=o.HEADER_WIDTH_FIELD;var n=t.substr(0,i),s=a(t,r,o.VERSION_FIELD);if(r+=o.VERSION_FIELD,s!==o.VERSION)throw new Error("Version mismatch! Binary: "+s+", Reader: "+o.VERSION);this.data=t.substr(i);var u=a(n,r,o.OFFSET_SIGN_FIELD),f=a(n,r+=o.OFFSET_SIGN_FIELD,o.OFFSET_VAL_FIELD);r+=o.OFFSET_VAL_FIELD,u&&(f=-f),this.offset=f;var c=a(n,r,o.CHAR_WIDTH_FIELD),l=a(n,r+=o.CHAR_WIDTH_FIELD,o.POINTER_WIDTH_FIELD);r+=o.POINTER_WIDTH_FIELD;var h,_,E,d=Math.ceil(r/6),p=n.substr(d);this.table=p.split("").reduce(function(e,t,r){return e[t]=r+1,e},(h={},_=o.TERMINAL,E=0,_ in h?Object.defineProperty(h,_,{value:E,enumerable:!0,configurable:!0,writable:!0}):h[_]=E,h)),this.inverseTable=[o.TERMINAL].concat(p.split("")),this.wordWidth=c+l+1,this.pointerMask=(1<<l)-1,this.charMask=(1<<c)-1,this.charShift=1+l}return i(e,[{key:"test",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{wildcard:null,prefix:!1},r=t.wildcard,i=t.prefix;return null!==this.search(e,{wildcard:r,prefix:i,first:!0})}},{key:"search",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{wildcard:null,prefix:!1,first:!1},r=t.wildcard,i=t.prefix,n=t.first;if(r&&1!==r.length)throw new Error("Wilcard must be a single character; got "+r);for(var s=this.data,u=this.offset,f=this.table,c=this.inverseTable,l=this.wordWidth,h=this.lastMask,_=this.pointerShift,E=this.pointerMask,d=this.charShift,p=this.charMask,I=[],T=[{pointer:0,memo:"",depth:0}],v=e.length;T.length;)for(var b=T.shift(),D=b.depth>=v,F=D?o.TERMINAL:e[b.depth],O=F===r||i&&D,L=b.pointer;O||f.hasOwnProperty(F);){var R=a(s,L*l,l),S=R>>d&p;if(O||S===f[F]){var A=R>>_&E,N=c[S];if(D&&N===o.TERMINAL){if(n)return b.memo;if(I.push(b.memo),!O)break}N!==o.TERMINAL&&T.push({pointer:L+u+A,depth:b.depth+1,memo:b.memo+N})}if(R&h)break;L+=1}return n?null:I}}]),e}();t.PackedTrie=s}])});